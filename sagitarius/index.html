<h1 align="center">Sagitarius</h1>
<h2 align="center"><a href="#introduction">Introduction</a></h2>
<h2 align="center"><a href="#installation">Installation</a></h2>
<h2 align="center"><a href="#quick-start">Quick Start</a></h2>
<h2 align="center"><a href="#api-reference">API Reference</a></h2>


## Introduction


Minimal, easy to use, fast Object Document Mapping(ODM) library for NeDB. Supports type-checking and validation.


## Installation
```bash
npm install sagitarius
```
```bash
yarn add sagitarius
```
```bash
pnpm add sagitarius
```


## Quick Start
```js
import { Model } from "sagitarius";
class User extends BaseModel{
    constructor(doc){
        super(doc)
        Object.assign(this, doc);
    }
}

User.define("User", {
    username: String,
    age: Number,
});
```


Create a new user:

```js
const user = new User({ username: "Rednexie", age: 18 });
await user.save()
```


Update user properties:

```js
user.age = 19;
await user.save();
```

## API Reference

### Instance Methods
<ul>
<li><a href="#save">save()</a> Saves the new or updated instance to the database.</li>
<li><a href="#delete">delete()</a> Saves the new or updated instance to the database.</li>
<li><a href="#tojson">toJSON()</a> Saves the new or updated instance to the database.</li>
<li><a href="#validate">validate()</a> Saves the new or updated instance to the database.</li>
</ul>

<strong id="save">async interface.save()</strong>
<br>Creates a new instance of the model with the provided document.


<strong id="delete">async interface.delete()</strong>
<br>Deletes the document from the database.


<strong id="tojson">async interface.toJSON()</strong>
<br>Converts the document from the database to a JavaScript Object.


<strong id="validate">async interface.validate()</strong>
<br>Checks the datatypes and properties of the document. Returns true if valid, false if not.


### Model Methods

<ul>

<li><a href="#modeldefine" class="method-link">Model.define(name, schema, path?)</a> - Creates a new database model.</li>
<li><a href="#modelvalidate" class="method-link">Model.validate(d)</a> - If the schema exists, checks if the document is valid.</li>

<li><a href="#modelcreate" class="method-link">Model.create(d)</a> - Creates a document and saves it to the database.</li>
<li><a href="#modelcreatemany" class="method-link">Model.createMany(d[])</a> - Creates multiple documents and saves them to the database.</li>
<li><a href="#modelfind" class="method-link">Model.find(query)</a> - Finds matching document instances in the database.</li>
<li><a href="#modelfindone" class="method-link">Model.findOne(query)</a> - Finds a matching document from the database or returns null.</li>
<li><a href="#modelupdate" class="method-link">Model.update(query, d)</a> - Finds matching documents from the database and updates them with the given document.</li>
<li><a href="#modelupdateone" class="method-link">Model.updateOne(query, d)</a> - Finds a matching document from the database or returns null.</li>
<li><a href="#modeldelete" class="method-link">Model.delete(query)</a> - Finds matching documents and removes them from the database.</li>
<li><a href="#modeldeleteone" class="method-link">Model.deleteOne(query)</a> - Finds a matching document and removes it from the database.</li>
<li><a href="#modelexists" class="method-link">Model.exists(query)</a> - Checks if any document matching the query exist in the database.</li>
<li><a href="#modelcount" class="method-link">Model.count(query)</a> - Counts how many matching documents exists in the database.</li>
</ul>


<h4 id="modelvalidate">async Model.validate(d)</h4>
<p>Checks the datatypes and properties of the document with the model's schema. Returns true if valid, false if not.</p>
<h4 id="modelcreate">async Model.create(d)</h4>
<p>Creates a document after validating it if schema exists, without constructing a class.</p>
<h4 id="modelcreateMany">async Model.createMany(d[])</h4>
<p>Bulk creates multiple documents after validating each without constructing a class.</p>
<h4 id="modelfind">async Model.find(query)</h4>
<p>Finds all documents that are matching the query. If none found, returns an empty array.</p>
<h4 id="modelfindone">async Model.findOne(query)</h4>
<p>Finds the first element that is matching the given query. If none found, returns null</p>
<h4 id="modelupdate">async Model.update(d)</h4>
<p>Updates all documents that match the query, with the given document.</p>
<h4 id="modelupdateone">async Model.updateOne(d)</h4>
<p>Updates the first document that matches the query, with the given document.</p>
<h4 id="modeldelete">async Model.delete(d)</h4>
<p>Deletes all documents that match the query.</p>
<h4 id="modelcreate">async Model.deleteOne(d)</h4>
<p>Deletes the first document that matches the query.</p>
<h4 id="modelcreate">async Model.exists(d)</h4>
<p>Counts all documents that match the query. Returns true if the number is bigger than 0, false if not.</p>
<h4 id="modelcreate">async Model.count(d)</h4>
<p>Counts all documents that match the given query.</p>
                    
